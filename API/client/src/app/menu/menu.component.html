<div class="card bg-light">
  <h1 class="text-center">Your Order</h1>
  <app-order class="mt-3" [showPaymentOptions] = "false" #orderWindow></app-order>    
</div>

<h1 class="text-center mt-3" *ngIf="showEditing">
  Administration
</h1>
  <div class="container mt-3 mb-2" style="display:flex; flex-direction: row;  
  justify-content: center; align-items: center">  
    <h1 class="mt-2 mr-3">Menu</h1>
    <ng-container *ngIf="showEditing">
      <button class="btn btn-primary mt-2" (click)="formToggle()">Add New Item</button>
    </ng-container>  
    <a class="nav-link mt-2 text-info" (click)="categoryMeats()">Meats</a>
    <a class="nav-link mt-2 text-info" (click)="categorySides()">Sides</a>
    <a class="nav-link mt-2 text-info" (click)="categoryDrinks()">Drinks</a>
    <a class="nav-link mt-2 text-info" (click)="categoryDesserts()">Desserts</a>
  </div>

  <div class="p-3 py-4 mb-2 bg-light text-right rounded">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <button class="btn" (click)="formToggle()"><i class="fa fa-close"></i></button>
    </div>
  <form *ngIf="showform" #menuForm="ngForm" (ngSubmit)="createMenuItem()" autocomplete="off" enctype="multipart/form-data">
    <h2 class="text-center text-primary">Create a dish</h2>
    <hr>
    <label>Name</label>
    <div class="form-group">
      <input type="text" class="form-control" name="name"
             [(ngModel)]="model.name" placeholder="Name">
    </div>
    <div class="form-group">
      <label>Category</label>
      <select class="form-control" name="category" [(ngModel)]="model.category">
        <option>Meat</option>
        <option>Side</option>
        <option>Dessert</option>
        <option>Drink</option>
      </select>
    </div>    
    <div class="form-group" *ngIf="model.category != 'Meat'">
      <label>Price</label>
      <input type="number" class="form-control" name="price"
             [(ngModel)]="model.price" placeholder="Price">
    </div>
    <div class="form-group">
      <label>Description</label>
      <input type="text" class="form-control" name="description"
             [(ngModel)]="model.description" placeholder="Descripiton">
    </div>    
    <div class="form-group" *ngIf="model.category == 'Meat'">
      <label>Minimum Price</label>
      <input type="number" class="form-control" name="minPrice"
             [(ngModel)]="model.minimumPrice" placeholder="Minimum Price">
    </div>
    <div class="form-group" *ngIf="model.category == 'Meat'">
      <label>Rate per gram</label>
      <input type="number" class="form-control" name="rate"
             [(ngModel)]="model.rate" placeholder="Price/Gram">
    </div>
    <div class="form-group">
      <label>Preparation time</label>
      <input type="number" class="form-control" name="prepTime"
             [(ngModel)]="model.prepTime" placeholder="Preparation Time">
    </div>
    <div class="form-group mb-5">
      <label>Select an image</label>
      <input type="file" accept="image/*" class="form-control" name="image"
             [(ngModel)]="img.image" (change)="onFileChange($event)">
    </div>
    <div class="form-group text-center">
      <button class="btn btn-success mr-2" type="submit">Create</button>
      <button class="btn btn-default mr-2" (click)="cancel()" type="button">Cancel</button>
    </div>
  </form>

  <div *ngIf="showMeats">
    <app-menuitem [orderView]="orderWindow" [cantOrder]="cantOrder" [menuItems]="menuItems" [category]="'Meat'"></app-menuitem>
  </div>
  <div *ngIf="showSides">
    <app-menuitem [orderView]="orderWindow" [cantOrder]="cantOrder" [menuItems]="menuItems" [category]="'Side'"></app-menuitem>
  </div>
  <div *ngIf="showDrinks">
    <app-menuitem [orderView]="orderWindow" [cantOrder]="cantOrder" [menuItems]="menuItems" [category]="'Drink'"></app-menuitem>
  </div>
  <div *ngIf="showDesserts">
    <app-menuitem [orderView]="orderWindow" [cantOrder]="cantOrder" [menuItems]="menuItems" [category]="'Dessert'"></app-menuitem>
  </div>
