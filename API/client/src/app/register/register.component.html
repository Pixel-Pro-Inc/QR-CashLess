<div class="login-form-2">
  <div class="text-center">
    <img src="assets/Images/rodizio_express_logo.png" 
    alt="logo"
    width="300"
    class="mt-5"/>
</div>
<div class="pagetitle" style="margin-left: 100px; margin-right: 100px;">
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
      <li class="breadcrumb-item"><a routerLink="/accountmanagement" >Account Management</a></li>
      <li class="breadcrumb-item active">Register</li>
    </ol>
  </nav>
</div>

  <h3>Register</h3>
 
  <form #registerForm="ngForm" (ngSubmit)="register()" autocomplete="off" style="margin-right: 10%; margin-left: 10%;">
    <hr>
    <div class="form-group">
      <input type="text" class="form-control" name="firstname"
             [(ngModel)]="model.firstname" placeholder="First Name">
    </div>
    <div class="form-group">
      <input type="text" class="form-control" name="lastname"
             [(ngModel)]="model.lastname" placeholder="Last Name">
    </div>
    <div class="form-group">
      <input type="text" class="form-control" name="email"
             [(ngModel)]="model.email" placeholder="email@example.com">
    </div>
    <div class="form-group">
      <input type="text" class="form-control" name="natId"
             [(ngModel)]="model.nationalIdentityNumber" placeholder="National Identity Number">
    </div>    
    <div class="form-group">
      <label>Phone Number (We'll use this incase you lose your password)</label>
      <input type="number" class="form-control" name="phoneNumber"
             [(ngModel)]="model.phonenumber">
    </div>
    <div class="form-group">
      <label>Usernames must follow the form(firstname@phonenumber)</label>
      <input type="text" class="form-control" name="username"
             [(ngModel)]="model.username" placeholder="Username">
    </div>
    <div class="form-group">
      <input type="password" class="form-control" name="password"
             [(ngModel)]="model.password" placeholder="Password">
    </div>
    
    <div *ngIf="isDeveloper && !model.superUser" class="form-group">
      <label>Select a branch code</label>
      <select class="form-control" name="branchId" [(ngModel)]="model.branchId" multiple>        
        <ng-container *ngFor="let branch of branches">
          <option>{{branch.id}}</option>
        </ng-container>     
      </select>
    </div>
    <!-- 
      TODO: The isDeveloper has to be changed to !isDeveloper 
      TODO: We need to add the fullname and email properties here
    -->
    <div *ngIf="isDeveloper && !model.superUser" class="form-group">
      <input type="checkbox" name="admin"
             [(ngModel)]="model.admin">
      <label class="ml-2">Admin Account</label> 
      <hr>
      <label>First payment date</label>
      <input type="date" class="form-control" name="DuePaymentDate" [(ngModel)]="model.DuePaymentDate">
    </div>
     <div class="form-group">
       
     </div>
    <div *ngIf="isDeveloper && !model.admin" class="form-group">
      <input type="checkbox" name="superUser"
             [(ngModel)]="model.superUser">
             <ng-container>{{resetBranches()}}</ng-container>
      <label class="ml-2">Super User Account</label>
    </div>
    <div class="form-group text-center">
      <button class="btn btn-success mr-2" type="submit">Register</button>
      <button class="btn btn-default mr-2" routerLink='/' type="button">Cancel</button>
    </div>
  </form>
</div>